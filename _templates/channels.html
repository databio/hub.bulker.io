{% extends "base.html" %}

{% block title %}Channels â€” Bulker Registry{% endblock %}

{% block content %}
<section class="page-header">
    <h1>Channels</h1>
    <p>Bulker channels are independent registries that host manifest files. Add a channel to discover and load crates from community-maintained collections.</p>
</section>

{% if channels %}
<section class="channels-section">
    <h2>Registered Channels</h2>
    <div class="channel-list">
        {% for ch in channels %}
        <div class="channel-card">
            <h3>
                {{ ch.name }}
                {% if ch.official %}<span class="badge-official">official</span>{% endif %}
            </h3>
            {% if ch.description %}
            <p>{{ ch.description }}</p>
            {% endif %}
            <p class="channel-url"><a href="{{ ch.url }}" target="_blank">{{ ch.url }}</a></p>
            <code class="install-cmd">bulker registry add {{ ch.name }}</code>
        </div>
        {% endfor %}
    </div>
</section>
{% endif %}

<section class="create-channel-section">
    <h2>Create Your Own Channel</h2>
    <p>Anyone can create a bulker channel and share container environments with the community.</p>
    <ol class="steps">
        <li>
            <strong>Create a GitHub repository</strong> with namespace directories containing manifest YAML files.
            Each namespace is a subdirectory, and each manifest is a YAML file following the
            <a href="https://bulker.io">bulker manifest format</a>.
        </li>
        <li>
            <strong>Add a build script.</strong> Copy <code>build_site.py</code> and <code>_templates/</code>
            from <a href="https://github.com/databio/hub.bulker.io">hub.bulker.io</a> into your repo,
            or use hub.bulker.io as a template repository.
        </li>
        <li>
            <strong>Enable GitHub Pages.</strong> Configure your repo to serve from the <code>docs/</code>
            directory on the main branch. Run <code>python build_site.py</code> to generate the site.
        </li>
        <li>
            <strong>Register your channel.</strong> Submit a pull request to
            <a href="https://github.com/databio/hub.bulker.io">hub.bulker.io</a> adding your channel
            to <code>channels.yaml</code>.
        </li>
        <li>
            <strong>Users can then add your channel:</strong>
            <code class="install-cmd">bulker registry add your-channel</code>
        </li>
    </ol>
</section>
{% endblock %}
